---
title: "Extracted Data Part 2"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,warning = FALSE,results='hide')

# Load the packages
library(data.table)
library(stringr)
library(splitstackshape)
library(pdftools)

# load the data
load("Oneuseful.RData")
```

# Useful Data-frame

There are three types of table information for votes and percentages. Below are three tables
explaining them clearly. It should be noted that these are mock tables. Most of the issues 
occur with related to Postal District Votes. In year 2005 there are lot of missing values
that needs to be calculated. 

Each table is a mock representation of how an entire district results can be represented 
with all the necessary information. In the tables Yes means the value exists and No means
the cell is empty.

## Format of Data-frame for 1982,1988 and 1999

The years 1982, 1988 and 1999 have the same format. Just two values different from 
the next table format, and that table is much more full. 

|          ColNames         | Electorate 1 | Electorate 1 | Electorate ... | Electorate ... | Postal District  Votes | Postal District  Votes | Final District  Results | Final District  Results |
|:-------------------------:|:------------:|:------------:|:--------------:|:--------------:|:----------------------:|:----------------------:|:-----------------------:|:-----------------------:|
|                           |     Votes    |  Percentage  |      Votes     |   Percentage   |          Votes         |       Percentage       |          Votes          |        Percentage       |
|      Candidate Name 1     |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|     Candidate Name ...    |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|  Total No of Valid Votes  |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|   No of  Rejected Votes   |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|  Total No of Votes Polled |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         Yes             |
| No of Registered Electors |       Yes    |     No       |     Yes        |     No         |       No               |         No             |           Yes           |         No              |

## Format of Data-frame for 1994, 2010 and 2015

The years 1994, 2010 and 2015 have the same format.

|          ColNames         | Electorate 1 | Electorate 1 | Electorate ... | Electorate ... | Postal District  Votes | Postal District  Votes | Final District  Results | Final District  Results |
|:-------------------------:|:------------:|:------------:|:--------------:|:--------------:|:----------------------:|:----------------------:|:-----------------------:|:-----------------------:|
|                           |     Votes    |  Percentage  |      Votes     |   Percentage   |          Votes         |       Percentage       |          Votes          |        Percentage       |
|      Candidate Name 1     |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|     Candidate Name ...    |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|  Total No of Valid Votes  |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|   No of  Rejected Votes   |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
|  Total No of Votes Polled |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         Yes            |           Yes           |         Yes             |
| No of Registered Electors |       Yes    |     No       |     Yes        |     No         |       Yes              |         No             |           Yes           |         No              |

## Format of Data-frame for 2005

Year 2005 is singularly alone. with alot of missing values.

|          ColNames         | Electorate 1 | Electorate 1 | Electorate ... | Electorate ... | Postal District  Votes | Postal District  Votes | Final District  Results | Final District  Results |
|:-------------------------:|:------------:|:------------:|:--------------:|:--------------:|:----------------------:|:----------------------:|:-----------------------:|:-----------------------:|
|                           |     Votes    |  Percentage  |      Votes     |   Percentage   |          Votes         |       Percentage       |          Votes          |        Percentage       |
|      Candidate Name 1     |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         No              |
|     Candidate Name ...    |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         No              |
|  Total No of Valid Votes  |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         No              |
|   No of  Rejected Votes   |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         No              |
|  Total No of Votes Polled |       Yes    |     Yes      |     Yes        |     Yes        |       Yes              |         No             |           Yes           |         No              |
| No of Registered Electors |       Yes    |     No       |     Yes        |     No         |       No               |         No             |           Yes           |         No              |

# Rectify Votes and Percentages 

## Rectify Data-frame for 1982,1988 and 1999

```{r Rectify 1982 1988 and 1999}
# Removing the Postal District Votes for No of Registered Electors rows
Election1982[!(Election1982$ColNames=="No of Registered Electors" & 
               Election1982$Electorate=="Postal District Votes" & is.na(Election1982$Votes)),]

Election1988[!(Election1988$ColNames=="No of Registered Electors" & 
               Election1988$Electorate=="Postal District Votes" & is.na(Election1988$Votes)),]

Election1999[!(Election1999$ColNames=="No of Registered Electors" & 
               Election1999$Electorate=="Postal District Votes" & is.na(Election1999$Votes)),]
```

## Rectify Data-frame for 1994, 2010 and 2015

```{r Rectify 1994 2010 and 2015}
Election1994$Percentage[is.na(Election1994$Votes)]
Election1994$Votes[is.na(Election1994$Votes)]

Election2010[is.na(Election2010$Votes),]

Election2015$Percentage[is.na(Election2015$Votes)]
Election2015$Votes[is.na(Election2015$Votes)]
```


## Rectify Data-frame for 2005

```{r Rectify 2005}

```


# Useful Data-frames



# One Useful Data-frame

